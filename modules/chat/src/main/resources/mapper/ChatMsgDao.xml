<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.chat.dao.ChatMsgDao">

    <resultMap id="ChatMsgMap" type="com.spring.common.entity.po.ChatMsg">
        <!--@Table chat_msg-->
        <id property="msgId" column="msg_id" jdbcType="INTEGER"/>
        <result property="channelId" column="channel_id" jdbcType="INTEGER"/>
        <result property="msgContent" column="msg_content" jdbcType="VARCHAR"/>
        <result property="msgTime" column="msg_time" jdbcType="TIMESTAMP"/>
        <result property="msgStatus" column="msg_status" jdbcType="INTEGER"/>
    </resultMap>

    <select id="getLastMsg" resultMap="ChatMsgMap">
        select *
        from chat_msg
        where msg_status = 0 and channel_id = #{channelId}
    </select>


</mapper>